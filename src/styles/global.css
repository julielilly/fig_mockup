@layer reset, global, components, utilities;

@import url("./reset.css");

@import url("https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,400..700;1,400..700&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap");

@layer global {
  :root {
    /* colors */
    --primary-1: #ffcc4a;
    --primary-2: #4eaf4e;
    --primary-3: #181818;
    --secondary-1: #f5f5f5;
    --secondary-2: #ffffff;

    /* font-sizing */
    /* @link https://utopia.fyi/type/calculator?c=320,16,1.067,1240,16,1.125,10,0,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */

    /* Step 0: 16px → 16px */
    --step-0: clamp(1rem, 1rem + 0vw, 1rem);
    /* Step 1: 17.072px → 18px */
    --step-1: clamp(1.067rem, 1.0468rem + 0.1009vw, 1.125rem);
    /* Step 2: 18.2158px → 20.25px */
    --step-2: clamp(1.1385rem, 1.0943rem + 0.2211vw, 1.2656rem);
    /* Step 3: 19.4363px → 22.7813px */
    --step-3: clamp(1.2148rem, 1.1421rem + 0.3636vw, 1.4238rem);
    /* Step 4: 20.7385px → 25.6289px */
    --step-4: clamp(1.2962rem, 1.1898rem + 0.5316vw, 1.6018rem);
    /* Step 5: 22.128px → 28.8325px */
    --step-5: clamp(1.383rem, 1.2372rem + 0.7288vw, 1.802rem);
    /* Step 6: 23.6106px → 32.4366px */
    --step-6: clamp(1.4757rem, 1.2838rem + 0.9593vw, 2.0273rem);
    /* Step 7: 25.1925px → 36.4912px */
    --step-7: clamp(1.5745rem, 1.3289rem + 1.2281vw, 2.2807rem);
    /* Step 8: 26.8804px → 41.0526px */
    --step-8: clamp(1.68rem, 1.3719rem + 1.5405vw, 2.5658rem);
    /* Step 9: 28.6814px → 46.1841px */
    --step-9: clamp(1.7926rem, 1.4121rem + 1.9025vw, 2.8865rem);
    /* Step 10: 30.603px → 51.9571px */
    --step-10: clamp(1.9127rem, 1.4485rem + 2.3211vw, 3.2473rem);

    /* spacing */
    /* @link https://utopia.fyi/space/calculator?c=320,12,1.067,1240,16,1.125,10,0,&s=0.75|0.5|0.25,1.5|2|2.5|3|4|5|6|8|9,3xl-7xl&g=s,l,xl,12 */

    /* Space 3xs: 3px → 4px */
    --space-3xs: clamp(0.1875rem, 0.1658rem + 0.1087vw, 0.25rem);
    /* Space 2xs: 6px → 8px */
    --space-2xs: clamp(0.375rem, 0.3315rem + 0.2174vw, 0.5rem);
    /* Space xs: 9px → 12px */
    --space-xs: clamp(0.5625rem, 0.4973rem + 0.3261vw, 0.75rem);
    /* Space s: 12px → 16px */
    --space-s: clamp(0.75rem, 0.663rem + 0.4348vw, 1rem);
    /* Space m: 18px → 24px */
    --space-m: clamp(1.125rem, 0.9946rem + 0.6522vw, 1.5rem);
    /* Space l: 24px → 32px */
    --space-l: clamp(1.5rem, 1.3261rem + 0.8696vw, 2rem);
    /* Space xl: 30px → 40px */
    --space-xl: clamp(1.875rem, 1.6576rem + 1.087vw, 2.5rem);
    /* Space 2xl: 36px → 48px */
    --space-2xl: clamp(2.25rem, 1.9891rem + 1.3043vw, 3rem);
    /* Space 3xl: 48px → 64px */
    --space-3xl: clamp(3rem, 2.6522rem + 1.7391vw, 4rem);
    /* Space 4xl: 60px → 80px */
    --space-4xl: clamp(3.75rem, 3.3152rem + 2.1739vw, 5rem);
    /* Space 5xl: 72px → 96px */
    --space-5xl: clamp(4.5rem, 3.9783rem + 2.6087vw, 6rem);
    /* Space 6xl: 96px → 128px */
    --space-6xl: clamp(6rem, 5.3043rem + 3.4783vw, 8rem);
    /* Space 7xl: 108px → 144px */
    --space-7xl: clamp(6.75rem, 5.9674rem + 3.913vw, 9rem);

    /* Custom pairs */
    /* Space 3xl-7xl: 48px → 144px */
    --space-3xl-7xl: clamp(3rem, 0.913rem + 10.4348vw, 9rem);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--primary-3);
    font-family: "Cabin", sans-serif;
    font-weight: 600;
    line-height: 1.3;
  }
  h6 {
    font-size: var(--step-4);
  }
  h5 {
    font-size: var(--step-5);
  }
  h4 {
    font-size: var(--step-7);
  }
  h3 {
    font-size: var(--step-8);
  }
  h2 {
    font-size: var(--step-9);
  }
  h1 {
    font-size: var(--step-10);
  }

  p,
  a,
  button {
    font-family: "Lato", sans-serif;
  }
  p {
    font-size: var(--step-0);
    line-height: 1.5;
  }
  a {
    text-decoration: none;
    color: var(--link-color, var(--secondary-2));
    line-height: 1.6;
    font-size: var(--step-1);

    &:hover {
      --link-color: oklch(from var(--secondary-2) calc(l - 0.1) c h);
    }
    &:active {
      --link-color: oklch(from var(--secondary-2) calc(l - 0.3) c h);
    }
  }
  ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }
  button {
    color: var(--button-color, var(--primary-3));
    font-size: var(--step-1);
    line-height: 1.6;

    background: var(--button, var(--primary-1));
    border-radius: 1.25rem;
    padding: var(--space-3xs) var(--space-s);

    &:hover {
      --button: var(--primary-3);
      --button-color: var(--secondary-2);
    }
    &:active {
      --button: oklch(from var(--primary-3) calc(l + 0.1) c h);
    }
  }

  .container {
    container-type: inline-size;
  }

  /* popover */

  [popover] {
    opacity: 0;
    scale: 0.5;

    transition: 0.5s;
    /* transition-property: display, scale, opacity;*/

    transition-behavior: allow-discrete;

    &:popover-open {
      @starting-style {
        opacity: 0;
        scale: 0.5;
      }

      opacity: 1;
      scale: 1;
    }
  }

  body:has(:popover-open) {
    ::backdrop {
      backdrop-filter: blur(4px);
    }
  }

  /* layout */
  body {
    display: grid;
    grid-template-rows: auto 1fr auto;
    grid-template-columns: [full-start] 1fr [content-start] minmax(0, 85ch) [content-end] 1fr [full-end];
    gap: 2ch;
  }

  header,
  footer,
  main {
    grid-column: full;
    display: grid;
    grid-template-columns: subgrid;

    > * {
      grid-column: content;
    }
  }

  .full-bleed {
    grid-column: full;
    display: grid;
    grid-template-columns: subgrid;

    > * {
      grid-column: content;
    }
  }
}
